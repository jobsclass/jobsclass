# 🧪 JobsClass 통합 테스트 가이드

**작성일**: 2025-01-27  
**대상**: QA / 개발자  
**소요 시간**: 약 1-2시간  
**난이도**: ⭐⭐⭐☆☆ (중)

---

## 📋 목차
1. [테스트 환경 준비](#테스트-환경-준비)
2. [테스트 시나리오](#테스트-시나리오)
3. [세부 테스트 케이스](#세부-테스트-케이스)
4. [버그 리포팅](#버그-리포팅)
5. [성공 기준](#성공-기준)

---

## 🎯 테스트 환경 준비

### 사전 조건 확인
- [ ] DB 마이그레이션 완료
- [ ] Toss Payments 환경 변수 설정 완료
- [ ] Vercel 배포 성공
- [ ] 테스트용 이메일 2개 준비 (파트너용, 클라이언트용)

### 테스트 환경
```
URL: https://jobsclass.vercel.app
Mode: Production (Toss Payments Test Mode)
Browser: Chrome 최신 버전 권장
```

### 테스트 계정 준비
```
파트너 계정:
- Email: partner-test@example.com
- Password: Test1234!

클라이언트 계정:
- Email: client-test@example.com
- Password: Test1234!
```

---

## 🚀 테스트 시나리오

### Scenario 1: 파트너 여정 (Partner Journey)
```
회원가입 → 프로필 설정 → 서비스 등록 → 대시보드 확인
```

### Scenario 2: 클라이언트 여정 (Client Journey)
```
회원가입 → 크레딧 충전 → 서비스 검색 → 서비스 구매
```

### Scenario 3: 협의형 서비스 (Negotiable Service)
```
클라이언트: 견적 요청 → 파트너: 견적서 작성 → 클라이언트: 승인
```

### Scenario 4: 결제 및 크레딧 (Payment & Credits)
```
회원가입 → 초기 크레딧 확인 → 크레딧 충전 → 크레딧 사용 → 잔액 확인
```

---

## 📝 세부 테스트 케이스

### Test Suite 1: 회원가입 및 인증

#### TC-001: 파트너 회원가입
**목적**: 파트너로 회원가입하고 초기 크레딧 지급 확인

**단계**:
1. https://jobsclass.vercel.app 접속
2. 우측 상단 **시작하기** 또는 **회원가입** 클릭
3. 이메일 입력: `partner-test-001@example.com`
4. 비밀번호 입력: `Test1234!`
5. 비밀번호 확인: `Test1234!`
6. **가입하기** 클릭
7. 프로필 타입 선택: **파트너** 선택
8. 이름 입력: `테스트 파트너`
9. 자기소개 입력: `테스트용 파트너 계정입니다`
10. **프로필 완성** 클릭

**기대 결과**:
- [ ] 회원가입 성공 메시지 표시
- [ ] 파트너 대시보드로 자동 이동
- [ ] 초기 크레딧 10,000 지급 확인
- [ ] 환영 메시지 표시

**실패 시 확인사항**:
- 이메일 형식 오류 메시지
- 비밀번호 강도 메시지
- DB 연결 에러

---

#### TC-002: 클라이언트 회원가입
**목적**: 클라이언트로 회원가입하고 초기 크레딧 지급 확인

**단계**:
1. 로그아웃 (우측 상단 프로필 → 로그아웃)
2. **회원가입** 클릭
3. 이메일 입력: `client-test-001@example.com`
4. 비밀번호 입력: `Test1234!`
5. 비밀번호 확인: `Test1234!`
6. **가입하기** 클릭
7. 프로필 타입 선택: **클라이언트** 선택
8. 이름 입력: `테스트 클라이언트`
9. 자기소개 입력: `테스트용 클라이언트 계정입니다`
10. **프로필 완성** 클릭

**기대 결과**:
- [ ] 회원가입 성공
- [ ] 클라이언트 대시보드로 이동
- [ ] 초기 크레딧 10,000 지급
- [ ] 마켓플레이스 접근 가능

---

### Test Suite 2: 서비스 등록 (파트너)

#### TC-101: 정액제 서비스 등록
**목적**: 파트너가 정액제 서비스를 등록하고 마켓플레이스에 노출 확인

**사전 조건**: 파트너 계정으로 로그인

**단계**:
1. 좌측 메뉴 → **서비스 관리** → **새 서비스 등록**
2. 또는 직접 `/marketplace/products/new` 접속

**Step 1: 기본 정보**
- 서비스 타입: `온라인 강의` 선택
- 카테고리: `Development & Tech` 선택
- 제목: `Next.js 완벽 가이드 강의`
- 설명:
  ```
  Next.js 14의 모든 기능을 배우는 완벽한 온라인 강의입니다.
  - App Router 완벽 이해
  - Server Components 활용
  - 실전 프로젝트 3개 포함
  ```
- 태그: `nextjs`, `react`, `웹개발` 입력
- **다음** 클릭

**Step 2: 가격 및 제공 내용**
- 가격 모델: `정액제` 선택
- 가격: `50000` 입력
- 제공 내용:
  ```
  ✅ 총 30시간 분량의 동영상 강의
  ✅ 실습 프로젝트 소스 코드
  ✅ 1:1 질문 응대 (3개월)
  ✅ 평생 수강권
  ```
- **다음** 클릭

**Step 3: 추가 정보**
- 배송/제공 방식: `온라인 플랫폼 제공`
- 예상 소요 기간: `자기 주도 학습 (제한 없음)`
- 특이사항: `초보자도 쉽게 따라할 수 있습니다`
- **등록 완료** 클릭

**기대 결과**:
- [ ] 서비스 등록 성공 메시지
- [ ] 파트너 대시보드에서 서비스 확인
- [ ] 마켓플레이스에서 검색 가능
- [ ] 서비스 상태: `게시됨`

---

#### TC-102: 협의제 서비스 등록
**목적**: 협의형 서비스 등록 및 가격 범위 설정

**사전 조건**: 파트너 계정으로 로그인

**단계**:
1. `/marketplace/products/new` 접속

**Step 1: 기본 정보**
- 서비스 타입: `프로젝트 대행` 선택
- 카테고리: `Development & Tech` 선택
- 제목: `웹사이트 개발 대행`
- 설명:
  ```
  귀사의 니즈에 맞는 맞춤형 웹사이트를 개발해드립니다.
  - React/Next.js 기반
  - 반응형 디자인
  - SEO 최적화
  - 3개월 무상 유지보수
  ```
- **다음** 클릭

**Step 2: 가격 및 제공 내용**
- 가격 모델: `협의 후 결정` 선택
- 예상 가격 범위:
  - 최소: `1000000`
  - 최대: `5000000`
- 제공 내용:
  ```
  ✅ 요구사항 분석
  ✅ UI/UX 디자인
  ✅ 프론트엔드 개발
  ✅ 백엔드 개발
  ✅ 배포 및 운영
  ✅ 3개월 유지보수
  ```
- **다음** 클릭

**Step 3: 추가 정보**
- 배송/제공 방식: `온라인 미팅 + 개발`
- 예상 소요 기간: `4-8주 (프로젝트 규모에 따라)`
- **등록 완료** 클릭

**기대 결과**:
- [ ] 협의형 서비스 등록 성공
- [ ] 가격 표시: `₩1,000,000 ~ ₩5,000,000` (협의)
- [ ] **견적 요청** 버튼 표시 (구매 버튼 아님)

---

### Test Suite 3: 마켓플레이스 및 검색

#### TC-201: 서비스 검색
**목적**: 마켓플레이스에서 서비스 검색 및 필터링

**단계**:
1. 메인 페이지 또는 `/marketplace` 접속
2. 검색어 입력: `Next.js`
3. Enter 또는 검색 버튼 클릭
4. 서비스 타입 필터: `온라인 강의` 선택
5. 카테고리 필터: `Development & Tech` 선택
6. 가격 정렬: `낮은 가격순` 선택

**기대 결과**:
- [ ] TC-101에서 등록한 서비스 표시
- [ ] 필터링 정상 작동
- [ ] 정렬 정상 작동
- [ ] 서비스 카드에 정보 정확히 표시:
  - 제목, 설명
  - 가격
  - 파트너 이름
  - 서비스 타입

---

#### TC-202: 서비스 상세 페이지
**목적**: 서비스 상세 정보 확인

**단계**:
1. TC-201에서 검색한 서비스 클릭
2. 상세 페이지 확인

**기대 결과**:
- [ ] 서비스 전체 정보 표시
- [ ] 파트너 정보 표시
- [ ] **구매하기** 버튼 표시 (정액제)
- [ ] 또는 **견적 요청** 버튼 표시 (협의제)
- [ ] 관련 서비스 추천 (선택)

---

### Test Suite 4: 크레딧 시스템

#### TC-301: 초기 크레딧 확인
**목적**: 신규 가입 시 10,000 크레딧 지급 확인

**사전 조건**: 새로 가입한 계정

**단계**:
1. 우측 상단 프로필 클릭
2. 크레딧 잔액 확인
3. 또는 `/credits` 페이지 접속

**기대 결과**:
- [ ] 잔액: 10,000 크레딧 표시
- [ ] 거래 내역:
  ```
  타입: 보너스 (bonus)
  금액: +10,000
  설명: 회원가입 축하 크레딧
  ```

---

#### TC-302: 크레딧 충전 (Toss Payments)
**목적**: Toss Payments로 크레딧 충전 및 잔액 반영

**사전 조건**: 로그인된 계정

**단계**:
1. `/credits/charge` 접속
2. 패키지 선택: `스타터 (10,000 크레딧 / ₩10,000)`
3. **충전하기** 클릭
4. Toss Payments 결제창 표시 확인
5. 테스트 카드 정보 입력:
   ```
   카드번호: 4242 4242 4242 4242
   유효기간: 12/25
   CVC: 123
   비밀번호 앞 2자리: 12
   생년월일: 900101
   ```
6. **결제하기** 클릭
7. 결제 완료 대기

**기대 결과**:
- [ ] 결제창 정상 표시
- [ ] 결제 성공 메시지
- [ ] `/credits/charge/success` 페이지로 리다이렉트
- [ ] 충전 완료 메시지:
  ```
  ✅ 결제가 완료되었습니다!
  충전된 크레딧: 10,000
  주문번호: ORD-20250127-000001
  ```
- [ ] 크레딧 잔액: 20,000 (기존 10,000 + 충전 10,000)
- [ ] 거래 내역 추가:
  ```
  타입: 구매 (purchase)
  금액: +10,000
  설명: 크레딧 충전 (스타터 패키지)
  ```

**DB 확인 (선택)**:
```sql
-- Supabase SQL Editor
SELECT * FROM orders WHERE buyer_id = (SELECT auth.uid()) ORDER BY created_at DESC LIMIT 1;
SELECT * FROM credit_transactions WHERE user_id = (SELECT auth.uid()) ORDER BY created_at DESC LIMIT 5;
SELECT * FROM payment_transactions WHERE user_id = (SELECT auth.uid()) ORDER BY created_at DESC LIMIT 1;
```

---

### Test Suite 5: 서비스 구매

#### TC-401: 정액제 서비스 구매
**목적**: 크레딧으로 정액제 서비스 구매 및 차감 확인

**사전 조건**: 
- 클라이언트 계정으로 로그인
- 크레딧 잔액 50,000 이상

**단계**:
1. 마켓플레이스에서 TC-101 서비스 검색
2. 서비스 상세 페이지 접속
3. 현재 크레딧 잔액 확인 (예: 60,000)
4. **구매하기** 버튼 클릭
5. 구매 확인 모달:
   ```
   서비스: Next.js 완벽 가이드 강의
   가격: 50,000 크레딧
   남은 잔액: 10,000 크레딧
   구매하시겠습니까?
   ```
6. **확인** 클릭

**기대 결과**:
- [ ] 구매 성공 메시지
- [ ] 크레딧 차감: 60,000 → 10,000
- [ ] 거래 내역 추가:
  ```
  타입: 사용 (spend)
  금액: -50,000
  설명: Next.js 완벽 가이드 강의 구매
  ```
- [ ] 내 서비스 목록에 추가
- [ ] 파트너에게 수익 반영

**파트너 측 확인**:
1. 파트너 계정으로 로그인
2. 대시보드 접속
3. 수익 통계 확인:
   ```
   총 수익: +50,000
   최근 판매: 1건
   ```

---

#### TC-402: 잔액 부족 시 구매 시도
**목적**: 크레딧 부족 시 에러 처리

**사전 조건**: 클라이언트 계정, 크레딧 부족 (예: 5,000)

**단계**:
1. 50,000 크레딧 서비스 구매 시도
2. **구매하기** 클릭

**기대 결과**:
- [ ] 에러 메시지 표시:
  ```
  ❌ 크레딧이 부족합니다
  필요: 50,000 크레딧
  현재: 5,000 크레딧
  부족: 45,000 크레딧
  ```
- [ ] **크레딧 충전하기** 버튼 제공
- [ ] 클릭 시 `/credits/charge` 이동

---

### Test Suite 6: 견적 시스템 (협의형)

#### TC-501: 견적 요청
**목적**: 클라이언트가 협의형 서비스에 견적 요청

**사전 조건**: 클라이언트 계정으로 로그인

**단계**:
1. TC-102 협의형 서비스 검색
2. 상세 페이지 접속
3. **견적 요청** 버튼 클릭
4. 견적 요청 폼 작성:
   ```
   프로젝트 제목: 쇼핑몰 웹사이트 개발
   프로젝트 설명:
   온라인 의류 쇼핑몰 웹사이트를 개발하고자 합니다.
   - 상품 등록/관리
   - 장바구니 및 결제
   - 회원 관리
   - 관리자 페이지
   
   예산 범위: ₩2,000,000 ~ ₩3,000,000
   희망 일정: 2개월 내
   ```
5. **견적 요청하기** 클릭

**기대 결과**:
- [ ] 견적 요청 성공 메시지
- [ ] 내 견적 요청 목록에 추가
- [ ] 상태: `대기 중 (pending)`
- [ ] 파트너에게 알림 (선택 기능)

---

#### TC-502: 견적서 작성 (파트너)
**목적**: 파트너가 견적 요청에 대한 견적서 작성

**사전 조건**: 파트너 계정으로 로그인

**단계**:
1. 파트너 대시보드 접속
2. **받은 견적 요청** 섹션 확인
3. TC-501 요청 클릭
4. **견적서 작성** 버튼 클릭
5. 견적서 작성:
   ```
   견적 제목: 쇼핑몰 웹사이트 개발 견적
   총 금액: ₩2,500,000
   
   작업 항목:
   1. 요구사항 분석: ₩200,000
   2. UI/UX 디자인: ₩400,000
   3. 프론트엔드 개발: ₩800,000
   4. 백엔드 개발: ₩700,000
   5. 배포 및 테스트: ₩300,000
   6. 2개월 유지보수: ₩100,000
   
   예상 기간: 8주
   납품일: 2025-03-27
   
   조건:
   - 계약금 30% 선불
   - 중간금 40% (4주 차)
   - 잔금 30% (완료 시)
   
   유효기간: 2025-02-15까지
   ```
6. **견적서 발송** 클릭

**기대 결과**:
- [ ] 견적서 생성 성공
- [ ] 견적서 번호: `QT-2025-0001`
- [ ] 상태: `발송됨 (sent)`
- [ ] 클라이언트에게 알림

---

#### TC-503: 견적 승인 (클라이언트)
**목적**: 클라이언트가 견적서 검토 및 승인

**사전 조건**: 클라이언트 계정으로 로그인

**단계**:
1. 클라이언트 대시보드 접속
2. **받은 견적서** 확인
3. TC-502 견적서 클릭
4. 견적서 상세 확인
5. **승인** 버튼 클릭
6. 확인 모달:
   ```
   견적서를 승인하시겠습니까?
   총 금액: ₩2,500,000
   승인 시 계약이 생성됩니다.
   ```
7. **확인** 클릭

**기대 결과**:
- [ ] 승인 성공 메시지
- [ ] 견적서 상태: `승인됨 (accepted)`
- [ ] 계약서 자동 생성
- [ ] 계약 번호: `CT-2025-0001`
- [ ] 계약 상태: `대기 중 (pending)`
- [ ] 서명 대기 안내

---

### Test Suite 7: 대시보드

#### TC-601: 파트너 대시보드
**목적**: 파트너 대시보드 통계 및 기능 확인

**사전 조건**: 파트너 계정으로 로그인

**단계**:
1. `/partner/dashboard` 접속
2. 각 섹션 확인

**기대 결과**:
- [ ] **통계 카드** 표시:
  ```
  총 수익: ₩XXX,XXX
  등록된 서비스: X개
  받은 견적 요청: X개
  완료된 계약: X개
  ```
- [ ] **최근 판매** 목록
- [ ] **받은 견적 요청** 목록
- [ ] **내 서비스** 목록
- [ ] 빠른 액션 버튼:
  - 새 서비스 등록
  - 견적 요청 확인

---

#### TC-602: 클라이언트 대시보드
**목적**: 클라이언트 대시보드 확인

**사전 조건**: 클라이언트 계정으로 로그인

**단계**:
1. `/client/dashboard` 접속
2. 각 섹션 확인

**기대 결과**:
- [ ] **크레딧 잔액** 표시
- [ ] **구매한 서비스** 목록
- [ ] **보낸 견적 요청** 목록
- [ ] **최근 거래 내역**
- [ ] 빠른 액션 버튼:
  - 마켓플레이스 이동
  - 크레딧 충전

---

### Test Suite 8: 에러 처리 및 엣지 케이스

#### TC-701: 중복 이메일 가입 시도
**단계**:
1. 이미 가입된 이메일로 회원가입 시도

**기대 결과**:
- [ ] 에러 메시지: `이미 사용 중인 이메일입니다`

---

#### TC-702: 로그아웃 상태에서 보호된 페이지 접근
**단계**:
1. 로그아웃 상태
2. `/partner/dashboard` 직접 접속

**기대 결과**:
- [ ] 로그인 페이지로 리다이렉트
- [ ] 메시지: `로그인이 필요합니다`

---

#### TC-703: 잘못된 결제 정보
**단계**:
1. 크레딧 충전 시도
2. 잘못된 카드 정보 입력

**기대 결과**:
- [ ] Toss Payments 에러 메시지
- [ ] 결제 실패 처리
- [ ] 크레딧 미반영

---

## 📊 성공 기준

### ✅ Critical (필수)
모든 Critical 테스트 통과 필요:
- [ ] TC-001: 파트너 회원가입
- [ ] TC-002: 클라이언트 회원가입
- [ ] TC-101: 정액제 서비스 등록
- [ ] TC-201: 서비스 검색
- [ ] TC-301: 초기 크레딧 확인
- [ ] TC-302: 크레딧 충전
- [ ] TC-401: 서비스 구매
- [ ] TC-601: 파트너 대시보드
- [ ] TC-602: 클라이언트 대시보드

**통과율**: 9/9 (100%)

### 🟡 High (중요)
80% 이상 통과 권장:
- [ ] TC-102: 협의제 서비스 등록
- [ ] TC-202: 서비스 상세 페이지
- [ ] TC-402: 잔액 부족 처리
- [ ] TC-501: 견적 요청
- [ ] TC-502: 견적서 작성
- [ ] TC-503: 견적 승인

**통과율**: X/6 (목표: 80% 이상)

### 🟢 Medium (선택)
50% 이상 통과:
- [ ] TC-701: 중복 이메일 에러
- [ ] TC-702: 인증 리다이렉트
- [ ] TC-703: 결제 에러 처리

**통과율**: X/3 (목표: 50% 이상)

---

## 🐛 버그 리포팅

### 버그 발견 시
1. 즉시 테스트 중단
2. 다음 정보 수집:
   - 테스트 케이스 ID
   - 재현 단계
   - 실제 결과 (스크린샷 포함)
   - 기대 결과
   - 브라우저 Console 에러
   - 네트워크 탭 확인
3. GitHub Issues에 등록

### 버그 템플릿
```markdown
## 버그 리포트

**테스트 케이스**: TC-XXX
**심각도**: Critical / High / Medium / Low

### 재현 단계
1. ...
2. ...

### 기대 결과
...

### 실제 결과
...

### 환경
- Browser: Chrome 120
- Device: Desktop
- Account: partner-test@example.com

### 스크린샷
[이미지 첨부]

### Console 에러
```
[에러 로그]
```

### 추가 정보
...
```

---

## ✅ 테스트 완료 후

### 1단계: 결과 정리
```
총 테스트 케이스: XX개
통과: XX개 (XX%)
실패: XX개 (XX%)
스킵: XX개
```

### 2단계: 버그 우선순위 정리
- 🔴 Critical: X개 → 즉시 수정 필요
- 🟡 High: X개 → 런칭 전 수정 권장
- 🟢 Medium/Low: X개 → 런칭 후 수정 가능

### 3단계: 런칭 가능 여부 판단
**✅ 런칭 가능 조건**:
- Critical 테스트 100% 통과
- High 테스트 80% 이상 통과
- Critical 버그 0개

**❌ 런칭 불가 조건**:
- Critical 테스트 실패 1개 이상
- Critical 버그 존재

---

## 📞 지원

### 문의
- **GitHub Issues**: https://github.com/jobsclass/jobsclass/issues
- **Slack**: #jobsclass-qa (내부)

---

**작성자**: AI Developer  
**최종 수정**: 2025-01-27  
**버전**: 1.0
